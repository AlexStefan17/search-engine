(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,t,n){e.exports=n.p+"static/media/magnify-glass.57b4ba36.svg"},36:function(e,t,n){e.exports=n.p+"static/media/map-pinter-icon.1bf83b83.svg"},37:function(e,t,n){e.exports=n(95)},44:function(e,t,n){},48:function(e,t,n){},50:function(e,t,n){},52:function(e,t,n){},54:function(e,t,n){},56:function(e,t,n){},85:function(e,t,n){},87:function(e,t,n){},89:function(e,t,n){},91:function(e,t,n){},93:function(e,t,n){},95:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),o=n(31),r=n.n(o),i=(n(44),n(48),n(9)),s=n(0),l=(n(50),n(52),function(){return c.a.createElement("section",{className:"logo"},c.a.createElement("h1",null,c.a.createElement(i.b,{to:"/",className:"text"},"pe viitor")))}),u=(n(54),function(e){var t=e.count,n=e.search;return c.a.createElement("section",{className:"results-count"},c.a.createElement("p",{className:"text ".concat(t?"":"hide")},"Avem ",c.a.createElement("span",{className:"count"},t)," de oportunit\u0103\u021bi in Rom\xe2nia ",n?"pentru ".concat(n):""),c.a.createElement("p",{className:"text ".concat(t?"hide":"")},"Ceva nu a mers bine..."))}),m=(n(56),n(5)),p=n(11),f=Object(p.b)({name:"queries",initialState:{city:"",company:"",country:"",page:1,q:""},reducers:{updateCity:function(e,t){e.city=t.payload},updateCompany:function(e,t){e.company=t.payload},updateCountry:function(e,t){e.country=t.payload},updatePage:function(e,t){console.log(t),e.page=t.payload},updateQ:function(e,t){e.q=t.payload}}}),d=f.actions.updateQ,b=f.reducer,E=n(34),g=n.n(E),y=function(e){var t=e.onClickPress,n=Object(m.c)(function(e){return e.queries.q}),a=Object(m.b)();return c.a.createElement("section",{className:"search"},c.a.createElement("img",{src:g.a,alt:"",className:"image",onClick:function(){return t()}}),c.a.createElement("input",{type:"text",placeholder:"Ce vrei s\u0103 te faci c\xe2nd vei fi mare?",onChange:function(e){a(d(e.target.value))},value:n}))},j=function(e){return Object.entries(e).filter(function(e){return e[1]}).map(function(e){return e.join("=")}).join("&")},h=function(e,t){t({pathname:"/rezultate",search:j(e)})},N=n(35),O=n.n(N).a.create({baseURL:"https://api.peviitor.ro/v1/"}),v=n(12),k=Object(p.b)({name:"results",initialState:{querySearched:"",total:0,jobs:[],isLoading:!0,isMoreJobs:!0},reducers:{updateTotal:function(e,t){e.total=t.payload},getNewJobs:function(e,t){e.jobs=Object(v.a)(t.payload)},addMoreJobs:function(e,t){e.jobs=[].concat(Object(v.a)(e.jobs),Object(v.a)(t.payload))},updateQuerySearched:function(e,t){e.querySearched=t.payload},updateLoading:function(e,t){e.isLoading=t.payload},updateIsMoreJobs:function(e,t){e.isMoreJobs=t.payload}}}),C=k.actions,w=C.updateTotal,_=C.getNewJobs,q=C.addMoreJobs,J=C.updateQuerySearched,S=C.updateLoading,x=C.updateIsMoreJobs,M=k.reducer,L=function(){var e=Object(s.f)(),t=Object(m.b)(),n=Object(m.c)(function(e){return e.results.total}),o=Object(m.c)(function(e){return e.queries});Object(a.useEffect)(function(){t(d("")),O.get("total/").then(function(e){t(w(e.data.total.jobs))})},[]);return c.a.createElement("section",{className:"landing-page",onKeyDown:function(t){"Enter"===t.key&&h(o,e)}},c.a.createElement("section",{className:"content display-flex"},c.a.createElement(l,null),c.a.createElement("section",{className:"animation display-flex"},c.a.createElement(y,{onClickPress:function(){return h(o,e)}}),c.a.createElement(u,{count:n}))))},P=n(6),F=(n(85),n(87),n(36)),I=n.n(F),Q=function(e){var t=e.company,n=e.city,a=e.title,o=e.link,r=e.isNew;return c.a.createElement("article",{className:"job"},c.a.createElement("section",{className:"new ".concat(r?"":"hide")},"Nou"),c.a.createElement("section",{className:"description"},c.a.createElement("section",{className:"details"},c.a.createElement("section",{className:"company"},t),c.a.createElement("section",{className:"section"},c.a.createElement("section",{className:"title"},a),c.a.createElement("section",{className:"location"},c.a.createElement("img",{src:I.a,alt:"location-icon"})," ",n)),c.a.createElement("section",{className:"url"},o)),c.a.createElement("section",{className:"type"},"full-tite | mid"),c.a.createElement("a",{className:"btn",target:"_blank",rel:"noopener noreferrer",href:"https://www.google.com"},"Vezi jobul")))},T=(n(89),function(e){var t=e.onClick;return c.a.createElement("button",{className:"get-more-btn",onClick:t},"Mai multe joburi")}),z=function(e){var t=[];return e.length&&e.forEach(function(e){return t.push({company:e.company?e.company[0]:"nespecificat",city:e.city?e.city[0]:"nespecificat",title:e.job_title?e.job_title[0]:"nespecificat",link:e.job_link?e.job_link[0]:"nespecificat",isNew:!1})}),t},D=(n(91),function(){return c.a.createElement("section",{className:"loading"},"loading...")}),R=function(){var e=Object(s.f)(),t=Object(i.c)(),n=Object(P.a)(t,2),o=n[0],r=n[1],p=Object(m.b)(),f=Object(a.useState)(0),b=Object(P.a)(f,2),E=b[0],g=b[1],N=Object(m.c)(function(e){return e.results.querySearched}),v=Object(m.c)(function(e){return e.results.total}),k=Object(m.c)(function(e){return e.queries}),C=Object(m.c)(function(e){return e.results.jobs}),M=Object(m.c)(function(e){return e.results.isLoading}),L=Object(m.c)(function(e){return e.results.isMoreJobs}),F=C.map(function(e,t){return c.a.createElement(Q,Object.assign({key:t},e))}),I=o.get("city"),R=o.get("company"),B=o.get("country"),K=o.get("page"),A=o.get("q"),U={city:I,company:R,country:B,page:K,q:A};Object(a.useEffect)(function(){p(J(A)),p(d(A)),E||(U.page=1,r(j(U))),p(S(!0)),O.get("search/?".concat(j(U))).then(function(e){var t=z(e.data.response.docs);p(w(e.data.response.numFound)),p(_(t)),p(S(!1)),t.length||p(x(!1))})},[I,R,B,A]),Object(a.useEffect)(function(){E&&(p(S(!0)),O.get("search/?".concat(j(U))).then(function(e){var t=z(e.data.response.docs);p(q(t)),p(S(!1)),t.length||p(x(!1))})),g(E+1)},[K]);return c.a.createElement("section",{className:"serp"},c.a.createElement("header",{onKeyDown:function(t){"Enter"===t.key&&h(k,e)}},c.a.createElement(l,null),c.a.createElement(y,{onClickPress:function(){return h(k,e)}})),c.a.createElement("main",{className:"serp__content"},c.a.createElement("aside",{className:"serp__content__aside"},"this is some menu"),c.a.createElement("section",{className:"serp__content__results"},c.a.createElement(u,{count:v,search:N}),F,!M&&L?c.a.createElement(T,{onClick:function(){U.page=parseInt(U.page)+1,r(j(U))}}):null,M?c.a.createElement(D,null):null)))},B=(n(93),function(){return c.a.createElement("section",null,"Cineva o sa aiba probleme!!!")}),K=function(){return c.a.createElement(i.a,null,c.a.createElement(s.c,null,c.a.createElement(s.a,{path:"/",element:c.a.createElement(L,null)}),c.a.createElement(s.a,{path:"rezultate",element:c.a.createElement(R,null)}),c.a.createElement(s.a,{path:"*",element:c.a.createElement(B,null)})))},A=function(e){e&&e instanceof Function&&n.e(1).then(n.bind(null,96)).then(function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),o(e),r(e)})},U=Object(p.a)({reducer:{queries:b,results:M}});r.a.createRoot(document.getElementById("root")).render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(m.a,{store:U},c.a.createElement(K,null)))),A()}},[[37,3,2]]]);
//# sourceMappingURL=main.e2688b5e.chunk.js.map